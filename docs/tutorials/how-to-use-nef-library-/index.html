<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">

    

    <title>nef: How to use nef library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ðŸ’Š steroids for Xcode Playgrounds">
    <meta name="keywords" content="functional-programming, monads, monad-transformers, functional-data-structure, swift, bow, xcode, xcode-playgrounds, playgrounds, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory">

    <meta property="og:image" content="/img/poster.png" />
    <meta property="og:title" content="nef: How to use nef library" />
    <meta property="og:site_name" content="nef: How to use nef library" />
    <meta property="og:url" content="https://nef.bow-swift.io" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="ðŸ’Š steroids for Xcode Playgrounds" />
    <meta property="og:keywords" content="functional-programming, monads, monad-transformers, functional-data-structure, swift, bow, xcode, xcode-playgrounds, playgrounds, fp-types, adt, free-monads, tagless-final, mtl, for-comprehension, category-theory" />

    <meta name="twitter:text:description" content="ðŸ’Š steroids for Xcode Playgrounds" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@bow_swift">
    <meta name="twitter:creator" content="@bow_swift">
    <meta name="twitter:image" content="/img/poster.png" />

    <meta property="github-info" data-github-owner="bow-swift" data-github-repo="nef" />

    <script defer src="/js/docs.js"></script>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.png">

    <!-- Docs css -->
    <link rel="stylesheet" type="text/css" href="/css/docs.css">
</head>

    <body>
        <div id="site-sidebar" class="site-sidebar">
  <div class="sidebar-brand">
    <a href="/" class="brand" title="nef">
      <img
        src="/img/nav-brand-white.svg"
        title="nef"
        alt="nef"
        class="brand-wrapper"
      />
      <span>nef</span>
    </a>
    <button
      id="main-toggle"
      type="button"
      title="Close"
      class="button sidebar-toggle"
    >
      <span class="close"></span>
    </button>
  </div>
  <div class="sidebar-menu">
    
      

      
      
      
      

      
      
      

      

      

    <div class="sidebar-menu-item  ">
       
      <button
        type="button"
        title="Open Quick start"
        class="button drop-nested"
      >
        Quick start
      </button>
      <div class="caret"></div>
      

      <div class="sub-menu">
        
        
        
        <a
          class=""
          href="/docs/quick-start/installation/"
          title="Installation"
        >
          Installation
        </a>
        
        
        
        <a
          class=""
          href="/docs/quick-start/creating-an-xcode-playground/"
          title="Creating an Xcode Playground"
        >
          Creating an Xcode Playground
        </a>
        
        
        
        <a
          class=""
          href="/docs/quick-start/creating-a-playground-book-for-ipad/"
          title="Creating a Playground Book for iPad"
        >
          Creating a Playground Book for iPad
        </a>
        
        
        
        <a
          class=""
          href="/docs/quick-start/resources/"
          title="Resources"
        >
          Resources
        </a>
        
      </div>
      
    </div>
    

      
      
      
      

      
      
      

      

      

    <div class="sidebar-menu-item  ">
       
      <button
        type="button"
        title="Open Verification and Compilation"
        class="button drop-nested"
      >
        Verification and Compilation
      </button>
      <div class="caret"></div>
      

      <div class="sub-menu">
        
        
        
        <a
          class=""
          href="/docs/verification-and-compilation/compiling-an-xcode-playground/"
          title="Compiling an Xcode Playground"
        >
          Compiling an Xcode Playground
        </a>
        
      </div>
      
    </div>
    

      
      
      
      

      
      
      

      

      

    <div class="sidebar-menu-item  ">
       
      <button
        type="button"
        title="Open Generation"
        class="button drop-nested"
      >
        Generation
      </button>
      <div class="caret"></div>
      

      <div class="sub-menu">
        
        
        
        <a
          class=""
          href="/docs/generation/generating-a-markdown-document/"
          title="Generating a Markdown document"
        >
          Generating a Markdown document
        </a>
        
      </div>
      
    </div>
    

      
      
      
      

      
      
      

      

      

    <div class="sidebar-menu-item  ">
       
      <button
        type="button"
        title="Open Integration"
        class="button drop-nested"
      >
        Integration
      </button>
      <div class="caret"></div>
      

      <div class="sub-menu">
        
        
        
        <a
          class=""
          href="/docs/integration/jekyll/"
          title="Jekyll"
        >
          Jekyll
        </a>
        
        
        
        <a
          class=""
          href="/docs/integration/carbon/"
          title="Carbon"
        >
          Carbon
        </a>
        
      </div>
      
    </div>
    

      
      
      
      

      
      
      

      

      

    <div class="sidebar-menu-item active open">
       
      <button
        type="button"
        title="Open Tutorials"
        class="button drop-nested"
      >
        Tutorials
      </button>
      <div class="caret"></div>
      

      <div class="sub-menu">
        
        
        
        <a
          class="active"
          href="/docs/tutorials/how-to-use-nef-library-/"
          title="How to use nef library?"
        >
          How to use nef library?
        </a>
        
        
        
        <a
          class=""
          href="/docs/tutorials/first-steps-with-carbon/"
          title="First Steps with Carbon"
        >
          First Steps with Carbon
        </a>
        
      </div>
      
    </div>
    
    
  </div>
</div>

        <main id="site-doc" class="site-doc">
  <div class="doc-header">
    <button
      id="menu-toggle"
      type="button"
      class="button doc-toggle"
      title="Toggle"
    >
      <img
        src="/img/sidebar-icon-open.svg"
        alt="Toggle"
        title="Toggle"
      />
    </button>

    <div class="link-container">
      <!-- 
        <div
  id="version-dropdown"
  class="link-item"
>
  <button
    class="button link-like strong"
    onclick="openDropdown(event)"
    title="Version"
  >
    
    <i
      class="nav-item-icon fa fa-lg "
      aria-hidden="true"
    ></i>
    <span class="nav-item-text">Version</span>
    
  </button>

  <ul class="dropdown dropdown-content">
    
    <li class="dropdown-item">
      <a
        class="dropdown-item-link"
        title="Stable"
        href="https://openapi.bow-swift.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span>
          Stable
        </span>
      </a>
    </li>
    
    <li class="dropdown-item">
      <a
        class="dropdown-item-link"
        title="Next"
        href="https://openapi.bow-swift.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span>
          Next
        </span>
      </a>
    </li>
    
  </ul>
</div>

        
        <div
  id="api-docs-dropdown"
  class="link-item"
>
  <button
    class="button link-like strong"
    onclick="openDropdown(event)"
    title="API Docs"
  >
    
    <i
      class="nav-item-icon fa fa-lg "
      aria-hidden="true"
    ></i>
    <span class="nav-item-text">API Docs</span>
    
  </button>

  <ul class="dropdown dropdown-content">
    
    <li class="dropdown-item">
      <a
        class="dropdown-item-link"
        title="Stable"
        href="https://openapi.bow-swift.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span>
          Stable
        </span>
      </a>
    </li>
    
    <li class="dropdown-item">
      <a
        class="dropdown-item-link"
        title="Next"
        href="https://openapi.bow-swift.io/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <span>
          Next
        </span>
      </a>
    </li>
    
  </ul>
</div>

         -->
      <div class="link-item">
        <a
          href="https://github.com/bow-swift/nef"
          title="GitHub repo"
          target="_blank"
          rel="noopener noreferrer"
        >
          <span class="strong">GitHub</span>
          <span id="stars-count"></span>
        </a>
      </div>
    </div>
  </div>
  <div class="doc-content">
    <h2 id="how-to-use-nef-library">How to use <code class="highlighter-rouge">nef</code> library?</h2>

<p>As you know, from Xcode 11, you can integrate package dependencies using Swift Package Manager (SPM) to share code between projects or even use third-party libraries. You can read more about it in Appleâ€™s article <a href="https://developer.apple.com/documentation/xcode/adding_package_dependencies_to_your_app">Adding package dependencies to your app</a></p>

<p>Starting on <code class="highlighter-rouge">nef</code> <a href="https://github.com/bow-swift/nef/releases/tag/0.4.0">version 0.4</a>, we have modularized the core so that you can use nef as in library as in your macOS projects. Taking advantage of the integration of SPM in Xcode, you can easily import <code class="highlighter-rouge">nef</code> in your project.</p>

<p>Just choose as package repository <code class="highlighter-rouge">https://github.com/bow-swift/nef.git</code> and Xcode will do the rest.</p>

<p><img src="/assets/nef-xcode-library.png" alt="Add nef library to Xcode as a dependency" /></p>

<p>Once Xcode resolves the dependencies, you can import wherever you want, as a native framework:</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">import</span> <span class="n">nef</span>
</code></pre></div></div>
<p>Thatâ€™s all! The power of nef runs into your project. Cool!</p>

<h2 id="api">API</h2>

<p><code class="highlighter-rouge">nef</code> library provides several utilities to work with <code class="highlighter-rouge">Markdown</code>, <code class="highlighter-rouge">Jekyll</code> and <code class="highlighter-rouge">Carbon</code>. It enables easy access to render Markdown files, Jekyll content and Carbon images in a functional way.</p>

<h3 id="markdown">Markdown</h3>

<p>If you need to render the content of a Playground page, or anything else that combine <a href="https://developer.apple.com/library/archive/documentation/Xcode/Reference/xcode_markup_formatting_ref/index.html"><strong>markup formatting</strong></a> and code.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">nef</span><span class="o">.</span><span class="kt">Markdown</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">toFile</span> <span class="nv">file</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">IO</span><span class="o">&lt;</span><span class="n">nef</span><span class="o">.</span><span class="kt">Error</span><span class="p">,</span> <span class="kt">URL</span><span class="o">&gt;</span>
</code></pre></div></div>

<h3 id="jekyll">Jekyll</h3>

<p>When you need to render content that combines Markdown, code, and <a href="https://github.com/bow-swift/nef#-generating-markdown-files-for-jekyll"><strong>nef commands</strong></a> with the Jekyll style.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">nef</span><span class="o">.</span><span class="kt">Jekyll</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">toFile</span> <span class="nv">file</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">permalink</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">IO</span><span class="o">&lt;</span><span class="n">nef</span><span class="o">.</span><span class="kt">Error</span><span class="p">,</span> <span class="kt">URL</span><span class="o">&gt;</span>
</code></pre></div></div>

<h3 id="carbon">Carbon</h3>

<p>nef lets you render Carbon images given a CarbonModel; it is the configuration with the code and style.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">nef</span><span class="o">.</span><span class="kt">Carbon</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="nv">carbon</span><span class="p">:</span> <span class="kt">CarbonModel</span><span class="p">,</span> <span class="n">toFile</span> <span class="nv">file</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">IO</span><span class="o">&lt;</span><span class="n">nef</span><span class="o">.</span><span class="kt">Error</span><span class="p">,</span> <span class="kt">URL</span><span class="o">&gt;</span>
</code></pre></div></div>

<p>You can find other helpers for drawing <code class="highlighter-rouge">Views</code> with a Carbon style.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">nef</span><span class="o">.</span><span class="kt">Carbon</span><span class="o">.</span><span class="nf">view</span><span class="p">(</span><span class="n">with</span> <span class="nv">configuration</span><span class="p">:</span> <span class="kt">CarbonModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CarbonView</span>
 <span class="n">nef</span><span class="o">.</span><span class="kt">Carbon</span><span class="o">.</span><span class="nf">request</span><span class="p">(</span><span class="n">with</span> <span class="nv">configuration</span><span class="p">:</span> <span class="kt">CarbonModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">URLRequest</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>In this section, we will see how we can use the nef API. As an example, we will take advantage of the <code class="highlighter-rouge">Carbon API</code>.</p>

<p>Firstly, we need to create a model with Carbon configuration and the style.</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">let</span> <span class="nv">model</span> <span class="o">=</span> <span class="kt">CarbonModel</span><span class="p">(</span><span class="nv">code</span><span class="p">:</span> <span class="s">"""
                               import nef
                               let library = 'nef library is super cool!'
                               """</span><span class="p">,</span>
                         <span class="nv">style</span><span class="p">:</span> <span class="kt">CarbonStyle</span><span class="p">(</span><span class="nv">background</span><span class="p">:</span> <span class="o">.</span><span class="n">bow</span><span class="p">,</span>
                                            <span class="nv">theme</span><span class="p">:</span> <span class="o">.</span><span class="n">dracula</span><span class="p">,</span>
                                            <span class="nv">size</span><span class="p">:</span> <span class="o">.</span><span class="n">x1</span><span class="p">,</span>
                                            <span class="nv">fontType</span><span class="p">:</span> <span class="o">.</span><span class="n">firaCode</span><span class="p">,</span>
                                            <span class="nv">lineNumbers</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">watermark</span><span class="p">:</span> <span class="kc">true</span><span class="p">))</span>
</code></pre></div></div>

<p>We could render a carbon image from this configuration</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">let</span> <span class="nv">io</span> <span class="o">=</span> <span class="n">nef</span><span class="o">.</span><span class="kt">Carbon</span><span class="o">.</span><span class="nf">render</span><span class="p">(</span><span class="nv">carbon</span><span class="p">:</span> <span class="n">model</span><span class="p">,</span> <span class="nv">toFile</span><span class="p">:</span> <span class="n">output</span><span class="p">)</span>
</code></pre></div></div>

<p>You will receive an <a href="https://bow-swift.io/docs/effects/suspending-side-effects/"><strong>IO</strong></a>; it lets you suspend the execution of the sides effects, in the example to create the Carbon image. That way, we could combine and compose with other operations. It is powerful!</p>

<p>When we want to execute it, we only need to invoke an <code class="highlighter-rouge">unsafe</code> operation:</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">let</span> <span class="nv">either</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="nf">unsafeRunSyncEither</span><span class="p">()</span>
 <span class="n">either</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">url</span> <span class="k">in</span>
    <span class="c1">// TODO</span>
 <span class="p">}</span><span class="o">.</span><span class="n">mapLeft</span> <span class="p">{</span> <span class="n">error</span> <span class="k">in</span>
    <span class="c1">// TODO</span>
 <span class="p">}</span>
</code></pre></div></div>

<p>Â </p>

<p>In the output path, you can find the result:</p>

<p><img src="/assets/nef-library-example.png" alt="Example: use of nef library" /></p>


  </div>
</main>

    </body>
</html>
